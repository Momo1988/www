<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../../../favicon.ico">
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->

    <title>Dashboard Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/static/css/dashboard.css" rel="stylesheet">
    <link href="/static/css/custom.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  </head>

 </body>
  <!-- <body data-js-vars1={{ TM }} > -->
  <body data-js-vars1={{ TM }} data-js-vars2={{ YXBG }} >
    <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0">
      <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">Company name</a>
      <input class="form-control form-control-dark w-100" type="text" placeholder="Search" aria-label="Search">
      <ul class="navbar-nav px-3">
        <li class="nav-item text-nowrap">
          <a class="nav-link" href="#">Sign out</a>
        </li>
      </ul>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar">
          <div class="sidebar-sticky">
            <ul class="nav flex-column">
              <li class="nav-item">
                <a class="nav-link" href="home">
                  <span data-feather="home"></span>
                  Dashboard <span class="sr-only">(current)</span>
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="#">
                  <span data-feather="file"></span>
                  Wave
                </a>
              </li>
              <!-- <div class="nav-item">
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Wave
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                  <a class="dropdown-item" href="#">Action</a>
                  <a class="dropdown-item" href="#">Another action</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                  <a class="dropdown-item" href="#">Something else here</a>
                  <a class="dropdown-item" href="#">Something else here</a>

                </div>
              </div> -->

            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
              <span>Saved reports</span>
              <a class="d-flex align-items-center text-muted" href="#">
                <span data-feather="plus-circle"></span>
              </a>
            </h6>
            <ul class="nav flex-column mb-2">
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <span data-feather="file-text"></span>
                  Current month
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <span data-feather="file-text"></span>
                  Last quarter
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <span data-feather="file-text"></span>
                  Social engagement
                </a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">
                  <span data-feather="file-text"></span>
                  Year-end sale
                </a>
              </li>
            </ul>
          </div>
        </nav>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4">
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
            <h1 class="h2">Summary</h1>
            <div class="btn-toolbar mb-2 mb-md-0">
              <div class="btn-group mr-2">
                <button class="btn btn-sm btn-outline-secondary">Share</button>
                <button class="btn btn-sm btn-outline-secondary">Export</button>
              </div>
              <button class="btn btn-sm btn-outline-secondary dropdown-toggle">
                <span data-feather="calendar"></span>
                This week
              </button>
            </div>
          </div>

          <div id=myDiv>
              <!-- <canvas class="my-4" id="myChart" width="900" height="380"></canvas> -->
          </div>
          <div class="table-responsive">
          {% block content %}
          <h2>Lastest Data</h2>
          {{ data | safe }}
          {% endblock %}
          </div>
          {{group.index.values}}
        </main>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <!-- <script>window.jQuery || document.write('<script src="../../../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script> -->
    <script src="/static/vendor/popper.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>

    <!-- Icons -->
    <script src="https://unpkg.com/feather-icons/dist/feather.min.js"></script>
    <script>
      feather.replace()
    </script>

    <!-- <script>
       var myJSON = document.getElementsByTagName('body')[0].getAttribute('data-js-vars');
       var myObj = JSON.parse(myJSON);
       var keys = Object.keys(myObj);
       var values = Object.values(myObj);

        alert(keys);
       alert(values);

    </script> -->

    <!-- Graphs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
    <!-- <script>
     // console.log(a.values)
     var myJSON_TM = document.getElementsByTagName('body')[0].getAttribute('data-js-vars1');
     var myJSON_YXBG = JSON.parse(document.getElementsByTagName('body')[0].getAttribute('data-js-vars2'));
     // var myObj1 = JSON.parse(myJSON_TM);
     // var myObj = JSON.parse(myJSON);

     alert(Object.values(myJSON_YXBG))
     // var myObj = JSON.parse(myJSON);
     // var myTime = myObj['TM'];
     // var myYXBG = myObj['YXBG'];
     // var keys = Object.keys(myObj);
     // var values = Object.values(myObj);
      // var ctx = document.getElementById("myChart");
      // var color = Chart.helpers.color;
      //line
      var ctxL = document.getElementById("myChart").getContext('2d');
      var myLineChart = new Chart(ctxL, {
        type: 'line',
        data: {
          labels: ["January", "February", "March", "April", "May", "June", "July"],
          datasets: [{
              label: "My First dataset",
              // data: Object.values(myJSON_YXBG),
              data: [{
                      x: 10,
                      y: 20
                  }, {
                      x: 200,
                      y: 15
                  }, {
                      x: 2000,
                      y: 30
                  }],
              cubicInterpolationMode:'monotone',
              backgroundColor: [
                'rgba(105, 0, 132, .2)',
              ],
              borderColor: [
                'rgba(200, 99, 132, .7)',
              ],
              borderWidth: 2
            },
            // {
            //   label: "My Second dataset",
            //   data: [28, 48, 40, 19, 86, 27, 90],
            //   backgroundColor: [
            //     'rgba(0, 137, 132, .2)',
            //   ],
            //   borderColor: [
            //     'rgba(0, 10, 130, .7)',
            //   ],
            //   borderWidth: 2
            // }
          ]
        },
        options: {
          responsive: true
        }
      });
    </script> -->

    <script type="text/javascript">
    function checkAdult(age) {
        return age['浮标'] == '1号标';
    }

    // pd = {{ pd|safe }};
    // pd1 = JSON.parse(pd);
    tm = {{ TM|safe }};
    yxbg = {{ YXBG|safe }};
    zdbg = {{ ZDBG|safe }};

    // dd = Object.values(pd).filter(checkAdult)

    console.log(Object.values(zdbg))
    // var myJSON_TM = JSON.parse(document.getElementsByTagName('body')[0].getAttribute('data-js-vars1'));
    // var myJSON_YXBG = JSON.parse(document.getElementsByTagName('body')[0].getAttribute('data-js-vars2'));
    // var myJSON_TM = document.getElementsByTagName('body')[0].getAttribute('data-js-vars1');
    // alert((myJSON_TM))
    var data = [
      {
        x: Object.values(tm),
        y: Object.values(yxbg),
        type: 'scatter',
        name:'有效波高'
      },{
        x: Object.values(tm),
        y: Object.values(zdbg),
        type: 'scatter',
        name:'最大波高'
      }
    ];

    Plotly.newPlot('myDiv', data);

    </script>


  </body>
</html>
